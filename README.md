# Ranking species based on sensitivity to perturbations under non-equilibrium community dynamics

This repository contains the code and data associated with the paper: Medeiros, L. P., Allesina, S., Dakos, V., Sugihara, G., and Saavedra, S. (2022). Ranking species based on sensitivity to perturbations under non-equilibrium community dynamics. *Ecology Letters*. 

The repository contains 4 folders: *code*, *data*, *figs*, and *results*. Under *code/scripts* we provide the R scripts to reproduce Figures 1-4 and SI figures. 

Figure 1 can be generated by running `fig1.R`. For Figures 2 and 3, we need to first run `generate_synthetic_time_series.R`, `perturbation_analyses_synthetic_time_series.R`, and `jacobian_sensitivities_synthetic_time_series.R` for each population dynamics model. Results are already saved under *data/synthetic_time_series* and *results/perturbation_analyses* and figures can be generated by running `fig2.R` and `fig3.R`. For Figure 4, we need to first run `forecast_smap_empirical_time_series.R` for each empirical time series. Results are already saved under *results/forecast_analyses* and the figure can be generated by running `fig4A.R` and `fig4BC.R`. The empirical time series can be found under *data/empirical_time_series*. 

SI figures can be generated with the corresponding scripts under *code/scripts*. All figures from the paper can be found under *figs*.
